<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test All Product Images - Avanti Jewels</title>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        h1 {
            color: #d4af37;
            text-align: center;
            margin-bottom: 30px;
        }
        .category {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .category h2 {
            color: #333;
            border-bottom: 2px solid #d4af37;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        .images-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
        }
        .image-card {
            background: #f8f8f8;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            transition: transform 0.3s;
        }
        .image-card:hover {
            transform: translateY(-5px);
        }
        .image-card img {
            width: 100%;
            height: 180px;
            object-fit: contain;
            background: white;
            border-radius: 6px;
            margin-bottom: 10px;
            border: 1px solid #ddd;
        }
        .image-info {
            font-size: 12px;
            color: #666;
            word-break: break-all;
        }
        .status {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: bold;
            margin-top: 5px;
        }
        .success {
            background: #4CAF50;
            color: white;
        }
        .error {
            background: #f44336;
            color: white;
        }
        .loading {
            background: #ff9800;
            color: white;
        }
        .summary {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-top: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .summary h3 {
            margin-bottom: 15px;
            color: #333;
        }
        .summary-stats {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }
        .stat {
            padding: 10px 20px;
            border-radius: 6px;
            font-weight: bold;
        }
        .total { background: #e3f2fd; color: #1565c0; }
        .loaded { background: #e8f5e9; color: #2e7d32; }
        .failed { background: #ffebee; color: #c62828; }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>üñºÔ∏è Product Images Test</h1>
        <div id="test-results"></div>
        
        <div class="summary" id="summary">
            <h3>Test Results Summary</h3>
            <div class="summary-stats">
                <div class="stat total">Total Images: <span id="total-count">0</span></div>
                <div class="stat loaded">Loaded: <span id="loaded-count">0</span></div>
                <div class="stat failed">Failed: <span id="failed-count">0</span></div>
            </div>
        </div>
    </div>

    <script src="products.js"></script>
    <script>
        // Wait for products.js to load
        document.addEventListener('DOMContentLoaded', function() {
            const testResults = document.getElementById('test-results');
            let totalImages = 0;
            let loadedImages = 0;
            let failedImages = 0;
            
            // Check if productsData exists
            if (typeof productsData === 'undefined') {
                testResults.innerHTML = '<div class="error">‚ùå products.js not loaded or productsData not defined!</div>';
                return;
            }
            
            // Test each category
            const categories = ['bundles', 'necklaces', 'bracelets', 'earrings', 'rings', 'bangles', 'kamarband', 'pendants', 'mang-tikka'];
            
            categories.forEach(category => {
                if (productsData[category]) {
                    const categoryDiv = document.createElement('div');
                    categoryDiv.className = 'category';
                    
                    const categoryTitle = document.createElement('h2');
                    categoryTitle.textContent = category.charAt(0).toUpperCase() + category.slice(1) + 
                                               ` (${productsData[category].length} products)`;
                    categoryDiv.appendChild(categoryTitle);
                    
                    const imagesGrid = document.createElement('div');
                    imagesGrid.className = 'images-grid';
                    
                    productsData[category].forEach(product => {
                        if (product.images && product.images.length > 0) {
                            product.images.forEach((imagePath, index) => {
                                totalImages++;
                                
                                const imageCard = document.createElement('div');
                                imageCard.className = 'image-card';
                                
                                const img = document.createElement('img');
                                img.src = imagePath;
                                img.alt = `${product.name} - Image ${index + 1}`;
                                
                                const imageInfo = document.createElement('div');
                                imageInfo.className = 'image-info';
                                imageInfo.innerHTML = `
                                    <strong>${product.name}</strong><br>
                                    <small>${imagePath}</small>
                                `;
                                
                                const statusDiv = document.createElement('div');
                                statusDiv.className = 'status loading';
                                statusDiv.textContent = 'Loading...';
                                statusDiv.id = `status-${category}-${product.id}-${index}`;
                                
                                imageCard.appendChild(img);
                                imageCard.appendChild(imageInfo);
                                imageCard.appendChild(statusDiv);
                                imagesGrid.appendChild(imageCard);
                                
                                // Test image load
                                img.onload = function() {
                                    loadedImages++;
                                    statusDiv.className = 'status success';
                                    statusDiv.textContent = '‚úÖ Loaded';
                                    updateSummary();
                                };
                                
                                img.onerror = function() {
                                    failedImages++;
                                    statusDiv.className = 'status error';
                                    statusDiv.textContent = '‚ùå Failed';
                                    
                                    // Try alternative paths
                                    const alternatives = [
                                        imagePath,
                                        'images/' + imagePath,
                                        './' + imagePath,
                                        '../' + imagePath,
                                        imagePath.replace('.jpg', '.jpeg'),
                                        imagePath.replace('.jpeg', '.jpg'),
                                        'images/' + imagePath.replace('.jpg', '.jpeg'),
                                        'images/' + imagePath.replace('.jpeg', '.jpg')
                                    ];
                                    
                                    // Add alternatives to info
                                    imageInfo.innerHTML += `<br><small style="color:#f44336">Trying alternatives...</small>`;
                                    updateSummary();
                                };
                            });
                        } else {
                            // Product with no images
                            const noImageCard = document.createElement('div');
                            noImageCard.className = 'image-card';
                            noImageCard.innerHTML = `
                                <div style="height:180px; display:flex; align-items:center; justify-content:center; background:#eee; border-radius:6px; margin-bottom:10px;">
                                    üì¶
                                </div>
                                <div class="image-info">
                                    <strong>${product.name}</strong><br>
                                    <small style="color:#ff9800">No images defined</small>
                                </div>
                            `;
                            imagesGrid.appendChild(noImageCard);
                        }
                    });
                    
                    categoryDiv.appendChild(imagesGrid);
                    testResults.appendChild(categoryDiv);
                }
            });
            
            function updateSummary() {
                document.getElementById('total-count').textContent = totalImages;
                document.getElementById('loaded-count').textContent = loadedImages;
                document.getElementById('failed-count').textContent = failedImages;
            }
            
            // Initial summary
            updateSummary();
            
            // Auto-test after 3 seconds
            setTimeout(function() {
                if (failedImages > 0) {
                    console.warn(`‚ö†Ô∏è ${failedImages} images failed to load. Check console for details.`);
                    console.log('üí° TIP: Make sure image paths in products.js are correct.');
                    console.log('üí° TIP: Images should be in your project folder, not external URLs.');
                }
            }, 3000);
        });
    </script>
</body>
</html>
